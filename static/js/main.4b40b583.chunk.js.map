{"version":3,"sources":["redux/reducer.ts","services/unsplash-service.ts","redux/saga/workers.ts","redux/saga/watchers.ts","redux/saga/index.ts","redux/store.js","components/image-board/state-selector.ts","components/image-board/dispatch-selector.ts","redux/actions.ts","components/image-card-hover/index.tsx","components/image-card/index.tsx","components/spinner/index.tsx","components/image-board/component.tsx","components/image-board/index.tsx","components/image-search/state-selector.ts","components/image-search/dispatch-selector.ts","components/image-search/component.tsx","components/image-search/index.tsx","components/app/index.tsx","index.tsx"],"names":["initialState","imageList","currentInputValue","searchKey","currentSearchPage","imagesToLoad","hasMoreImage","hasError","errorMessage","reducer","state","action","type","payload","UnsplashService","applicationId","secret","getRandomPhotos","count","a","getResource","photos","getRandomPhoto","res","map","data","transformData","searchPhotos","args","search","response","results","method","ok","Error","status","toJson","alt","alt_description","color","id","urlSmall","urls","small","userName","user","username","Unsplash","fetchRandomPhotos","requestNextSearchPage","userSearchSubmit","API","select","call","put","length","watchFetchRandomPhotos","watchUserRequestNextSearchPage","watchUserSearchSubmit","takeEvery","workers","rootSaga","all","watchers","sagaMiddleware","createSagaMiddleware","store","createStore","composeWithDevTools","applyMiddleware","run","mapStateToProps","mapDispatchToProps","ImageCardHover","props","author","className","href","target","rel","averagedColor","downloadBtn","role","ImageCard","imageProps","src","Spinner","ImageBoard","requestPhotos","this","errorNode","endMessage","images","item","key","dataLength","next","loader","hasMore","React","Component","connect","searchSubmit","ImageSearch","inputValue","onInputChange","e","currentTarget","value","setState","onSearchSubmit","preventDefault","placeholder","onChange","onClick","App","Fragment","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4b40b583.chunk.js","sourcesContent":["import IState from '../types/state';\r\nimport IAction from '../types/action';\r\n\r\nconst initialState: IState = {\r\n\timageList: [],\r\n\tcurrentInputValue: '',\r\n\tsearchKey: '',\r\n\tcurrentSearchPage: 1,\r\n\timagesToLoad: 30,\r\n\thasMoreImage: true,\r\n\thasError: false,\r\n\terrorMessage: '',\r\n};\r\n\r\nconst reducer = (state = initialState, action: IAction) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'PUSH_NEW_IMAGE':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\timageList: [...state.imageList, ...action.payload],\r\n\t\t\t};\r\n\r\n\t\tcase 'CLEAR_IMAGE_LIST':\r\n\t\t\treturn { ...state, imageList: [] };\r\n\r\n\t\tcase 'CHANGE_INPUT':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentInputValue: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase 'RESET_CURRENT_SEARCH_PAGE':\r\n\t\t\treturn { ...state, currentSearchPage: 1 };\r\n\r\n\t\tcase 'INC_CURRENT_SEARCH_PAGE':\r\n\t\t\treturn { ...state, currentSearchPage: state.currentSearchPage + 1 };\r\n\r\n\t\tcase 'SET_SEARCH_KEY':\r\n\t\t\treturn { ...state, searchKey: action.payload };\r\n\r\n\t\tcase 'SET_HAS_MORE_IMAGE_FALSE':\r\n\t\t\treturn { ...state, hasMoreImage: false };\r\n\r\n\t\tcase 'SET_HAS_IMAGE_TRUE':\r\n\t\t\treturn { ...state, hasMoreImage: true };\r\n\r\n\t\tcase 'SET_HAS_ERROR_TRUE':\r\n\t\t\treturn { ...state, hasError: true };\r\n\r\n\t\tcase 'SET_HAS_ERROR_FALSE':\r\n\t\t\treturn { ...state, hasError: false };\r\n\r\n\t\tcase 'SET_ERROR_MESSAGE':\r\n\t\t\treturn { ...state, errorMessage: action.payload };\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reducer;\r\n","import Unsplash, { toJson } from 'unsplash-js';\r\n\r\nimport IImageItem from '../types/image-item';\r\nimport * as types from './types';\r\n\r\nexport default class UnsplashService extends Unsplash {\r\n\tconstructor() {\r\n\t\t// super({\r\n\t\t//     applicationId:\r\n\t\t//         '494555fbd3a4845f048f75a49e4e2714283cd6d46e45cefaafacf41997ca838b',\r\n\t\t//     secret:\r\n\t\t//         '200db19660f8603baed20d25918dbc15053b86255dcf2ac3baa705d95d5f74b8',\r\n\t\t// });\r\n\t\tsuper({\r\n\t\t\tapplicationId:\r\n\t\t\t\t'ab3411e4ac868c2646c0ed488dfd919ef612b04c264f3374c97fff98ed253dc9 ',\r\n\t\t\tsecret:\r\n\t\t\t\t'896d4f52c589547b2134bd75ed48742db637fa51810b49b607e37e46ab2c0043',\r\n\t\t});\r\n\t}\r\n\r\n\tgetRandomPhotos = async (count: number): Promise<IImageItem[]> => {\r\n\t\tconst res = await this.getResource(this.photos.getRandomPhoto, {\r\n\t\t\tcount,\r\n\t\t});\r\n\t\treturn res.map((data: any) => {\r\n\t\t\treturn this.transformData(data);\r\n\t\t});\r\n\t};\r\n\r\n\tsearchPhotos = async (\r\n\t\t...args: types.ISearchSubmitArgTuple\r\n\t): Promise<IImageItem[]> => {\r\n\t\tconst response = await this.getResource(this.search.photos, ...args);\r\n\t\treturn response.results.map((data: any) => {\r\n\t\t\treturn this.transformData(data);\r\n\t\t});\r\n\t};\r\n\r\n\tprivate getResource = async (method: any, ...args: any) => {\r\n\t\tconst res = await method(...args);\r\n\r\n\t\tif (!res.ok) {\r\n\t\t\tthrow new Error(`Could not fetch, received ${res.status}`);\r\n\t\t}\r\n\r\n\t\treturn toJson(res);\r\n\t};\r\n\r\n\tprivate transformData(data: types.IImageItemUntransformed): IImageItem {\r\n\t\treturn {\r\n\t\t\talt: data.alt_description,\r\n\t\t\tcolor: data.color,\r\n\t\t\tid: data.id,\r\n\t\t\turlSmall: data.urls.small,\r\n\t\t\tuserName: data.user.username,\r\n\t\t};\r\n\t}\r\n}\r\n","import { put, call, select } from 'redux-saga/effects';\r\n\r\nimport UnsplashService from '../../services/unsplash-service';\r\nimport IAction from '../../types/action';\r\n\r\nconst API = new UnsplashService();\r\n\r\nexport function* fetchRandomPhotos() {\r\n\ttry {\r\n\t\tconst { imagesToLoad } = yield select(state => state);\r\n\t\tconst imageList = yield call(API.getRandomPhotos, imagesToLoad);\r\n\r\n\t\tyield put({ type: 'PUSH_NEW_IMAGE', payload: imageList });\r\n\t} catch (e) {\r\n\t\tyield put({ type: 'SET_HAS_ERROR_TRUE' });\r\n\t\tyield put({ type: 'SET_ERROR_MESSAGE', payload: e });\r\n\t}\r\n}\r\n\r\nexport function* requestNextSearchPage() {\r\n\ttry {\r\n\t\tconst { searchKey, currentSearchPage, imagesToLoad } = yield select(\r\n\t\t\tstate => state\r\n\t\t);\r\n\r\n\t\tconst imageList = yield call(\r\n\t\t\tAPI.searchPhotos,\r\n\t\t\tsearchKey,\r\n\t\t\tcurrentSearchPage + 1,\r\n\t\t\timagesToLoad\r\n\t\t);\r\n\r\n\t\tif (imageList.length === 0) {\r\n\t\t\tyield put({ type: 'SET_HAS_MORE_IMAGE_FALSE' });\r\n\t\t} else {\r\n\t\t\tyield put({ type: 'PUSH_NEW_IMAGE', payload: imageList });\r\n\t\t\tyield put({ type: 'INC_CURRENT_SEARCH_PAGE' });\r\n\t\t}\r\n\t} catch (e) {\r\n\t\tyield put({ type: 'SET_HAS_ERROR_TRUE' });\r\n\t\tyield put({ type: 'SET_ERROR_MESSAGE', payload: e });\r\n\t}\r\n}\r\n\r\nexport function* userSearchSubmit(action: IAction) {\r\n\ttry {\r\n\t\tconst { imagesToLoad } = yield select(state => state);\r\n\r\n\t\tconst imageList = yield call(\r\n\t\t\tAPI.searchPhotos,\r\n\t\t\taction.payload,\r\n\t\t\t1,\r\n\t\t\timagesToLoad\r\n\t\t);\r\n\r\n\t\tif (imageList.length === 0) {\r\n\t\t\tyield put({ type: 'CLEAR_IMAGE_LIST' });\r\n\t\t\tyield put({ type: 'SET_HAS_MORE_IMAGE_FALSE' });\r\n\t\t} else if (imageList.length < imagesToLoad) {\r\n\t\t\tyield put({ type: 'SET_HAS_ERROR_FALSE' });\r\n\t\t\tyield put({ type: 'SET_HAS_MORE_IMAGE_FALSE' });\r\n\t\t\tyield put({ type: 'RESET_CURRENT_SEARCH_PAGE' });\r\n\t\t\tyield put({ type: 'SET_SEARCH_KEY', payload: action.payload });\r\n\t\t\tyield put({ type: 'CLEAR_IMAGE_LIST' });\r\n\t\t\tyield put({ type: 'PUSH_NEW_IMAGE', payload: imageList });\r\n\t\t} else {\r\n\t\t\tyield put({ type: 'SET_HAS_ERROR_FALSE' });\r\n\t\t\tyield put({ type: 'SET_HAS_IMAGE_TRUE' });\r\n\t\t\tyield put({ type: 'RESET_CURRENT_SEARCH_PAGE' });\r\n\t\t\tyield put({ type: 'SET_SEARCH_KEY', payload: action.payload });\r\n\t\t\tyield put({ type: 'CLEAR_IMAGE_LIST' });\r\n\t\t\tyield put({ type: 'PUSH_NEW_IMAGE', payload: imageList });\r\n\t\t}\r\n\t} catch (e) {\r\n\t\tyield put({ type: 'SET_HAS_ERROR_TRUE' });\r\n\t\tyield put({ type: 'SET_ERROR_MESSAGE', payload: e });\r\n\t}\r\n}\r\n","import { takeEvery } from 'redux-saga/effects';\r\nimport * as workers from './workers';\r\n\r\nexport function* watchFetchRandomPhotos() {\r\n\tyield takeEvery(\r\n\t\t'USER_RANDOM_PHOTOS_FETCH_REQUEST',\r\n\t\tworkers.fetchRandomPhotos\r\n\t);\r\n}\r\n\r\nexport function* watchUserRequestNextSearchPage() {\r\n\tyield takeEvery(\r\n\t\t'USER_REQUEST_FETCH_NEXT_SEARCH_PAGE',\r\n\t\tworkers.requestNextSearchPage\r\n\t);\r\n}\r\n\r\nexport function* watchUserSearchSubmit() {\r\n\tyield takeEvery('USER_SEARCH_SUBMIT', workers.userSearchSubmit);\r\n}\r\n","import {all} from 'redux-saga/effects'\r\nimport * as watchers from './watchers';\r\n\r\nexport default function* rootSaga() {\r\n    yield all([\r\n    watchers.watchFetchRandomPhotos(),\r\n    watchers.watchUserRequestNextSearchPage(),\r\n    watchers.watchUserSearchSubmit(),\r\n    ])\r\n}","import createSagaMiddleware from 'redux-saga';\r\nimport { applyMiddleware, createStore } from 'redux';\r\nimport reducer from 'src/redux/reducer';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport rootSaga from 'src/redux/saga';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store = createStore(\r\n\treducer,\r\n\tcomposeWithDevTools(applyMiddleware(sagaMiddleware))\r\n);\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;\r\n","import IState from \"src/types/state\";\r\nimport IImageItem from \"src/types/image-item\";\r\n\r\ninterface IMapStateToProps {\r\n    imageList: IImageItem[],\r\n    hasMoreImage: boolean,\r\n    hasError: boolean,\r\n    errorMessage: string,\r\n    searchKey: string,\r\n}\r\n\r\nconst mapStateToProps = (state: IState): IMapStateToProps => ({\r\n    imageList: state.imageList,\r\n    hasMoreImage: state.hasMoreImage,\r\n    hasError: state.hasError,\r\n    errorMessage: state.errorMessage,\r\n    searchKey: state.searchKey,\r\n});\r\n\r\nexport default mapStateToProps;","import * as actions from 'src/redux/actions';\r\n\r\ninterface IMapDispatchToProps {\r\n\tgetRandomPhotos: () => void;\r\n\trequestNextSearchPage: () => void;\r\n}\r\n\r\nconst mapDispatchToProps: IMapDispatchToProps = {\r\n\tgetRandomPhotos: actions.getRandomPhotos,\r\n\trequestNextSearchPage: actions.requestNextSearchPage,\r\n};\r\n\r\nexport default mapDispatchToProps;\r\n","export const getRandomPhotos = () => ({\r\n\ttype: 'USER_RANDOM_PHOTOS_FETCH_REQUEST',\r\n});\r\n\r\nexport const requestNextSearchPage = () => ({\r\n\ttype: 'USER_REQUEST_FETCH_NEXT_SEARCH_PAGE',\r\n});\r\n\r\nexport const searchSubmit = (searchKey: string) => ({\r\n\ttype: 'USER_SEARCH_SUBMIT',\r\n\tpayload: searchKey,\r\n});\r\n","import React from 'react';\r\nimport './image-card-hover.css';\r\n\r\nimport IProps from './types';\r\n\r\nconst ImageCardHover = (props: IProps) => {\r\n\tconst { color, id, userName } = props;\r\n\r\n\tconst author = (\r\n\t\t<h6 className=\"col-12 text-center text-light mt-1 author\">\r\n\t\t\tAuthor:{' '}\r\n\t\t\t<a\r\n\t\t\t\tclassName=\"font-weight-bold text-light author-link\"\r\n\t\t\t\thref={`https://unsplash.com/@${userName}`}\r\n\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t>\r\n\t\t\t\t{userName}\r\n\t\t\t</a>\r\n\t\t</h6>\r\n\t);\r\n\tconst averagedColor = (\r\n\t\t<h6 className=\"col-12 text-center text-light mt-1 averaged-color\">\r\n\t\t\tColor: {color}\r\n\t\t</h6>\r\n\t);\r\n\r\n\tconst downloadBtn = (\r\n\t\t<a\r\n\t\t\tclassName=\"btn btn-success col-8 my-1 download-bnt\"\r\n\t\t\thref={`https://unsplash.com/photos/${id}/download?force=true`}\r\n\t\t\trole=\"button\"\r\n\t\t>\r\n\t\t\tDownload\r\n\t\t</a>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"image-card-hover rounded d-flex align-items-end\">\r\n\t\t\t<div className=\"bg-info rounded d-flex flex-wrap justify-content-center w-100 h-60\">\r\n\t\t\t\t{author}\r\n\t\t\t\t{averagedColor}\r\n\t\t\t\t{downloadBtn}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ImageCardHover;\r\n","import React from 'react';\r\n\r\nimport './image-card.css';\r\n\r\nimport ImageCardHover from 'src/components/image-card-hover';\r\nimport IImageItem from 'src/types/image-item';\r\n\r\nconst ImageCard = (props: { imageProps: IImageItem }) => {\r\n\tconst {\r\n\t\timageProps: { alt, urlSmall, color, userName, id },\r\n\t} = props;\r\n\r\n\tconst imageCardClassName =\r\n\t\t'image-card col-lg-4 col-md-6 col-sm-12 d-flex justify-content-center p-0 m-2';\r\n\r\n\treturn (\r\n\t\t<div className={imageCardClassName}>\r\n\t\t\t<img className=\"img-thumbnail rounded\" src={urlSmall} alt={alt} />\r\n\t\t\t<ImageCardHover color={color} userName={userName} id={id} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ImageCard;\r\n","import React from 'react';\r\n\r\nconst Spinner = () => (\r\n\t<div className=\"d-flex justify-content-center py-3 spinner\">\r\n\t\t<div className=\"spinner-grow text-primary spinner-dot\" role=\"status\" />\r\n\t\t<div className=\"spinner-grow text-success spinner-dot\" role=\"status\" />\r\n\t\t<div className=\"spinner-grow text-danger spinner-dot\" role=\"status\" />\r\n\t\t<div className=\"spinner-grow text-warning spinner-dot\" role=\"status\" />\r\n\t</div>\r\n);\r\n\r\nexport default Spinner;\r\n","import React from 'react';\r\nimport * as types from 'src/components/image-board/types';\r\nimport ImageCard from 'src/components/image-card';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport Spinner from 'src/components/spinner';\r\n\r\nexport default class ImageBoard extends React.Component<types.IProps> {\r\n\tcomponentDidMount() {\r\n\t\tthis.requestPhotos();\r\n\t}\r\n\r\n\trequestPhotos = () => {\r\n\t\tconst {\r\n\t\t\tsearchKey,\r\n\t\t\trequestNextSearchPage,\r\n\t\t\tgetRandomPhotos,\r\n\t\t} = this.props;\r\n\r\n\t\tif (searchKey) {\r\n\t\t\trequestNextSearchPage();\r\n\t\t} else {\r\n\t\t\tgetRandomPhotos();\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { imageList, hasError, hasMoreImage } = this.props;\r\n\r\n\t\tconst errorNode = (\r\n\t\t\t<h2 className=\"text-secondary text-center error-message\">\r\n\t\t\t\tHere is an Error, try to reload page, or make another search\r\n\t\t\t\tquerry.\r\n\t\t\t</h2>\r\n\t\t);\r\n\r\n\t\tconst endMessage = (\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"alert alert-info py-3 text-center end-message\"\r\n\t\t\t\trole=\"alert\"\r\n\t\t\t>\r\n\t\t\t\t<h5 className=\"m-0\">\r\n\t\t\t\t\tNo more images to load, try another search querry\r\n\t\t\t\t</h5>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\tconst images = imageList.map(item => (\r\n\t\t\t<ImageCard imageProps={item} key={item.id} />\r\n\t\t));\r\n\r\n\t\treturn (\r\n\t\t\t<InfiniteScroll\r\n\t\t\t\tclassName=\"d-flex flex-column justify-content-center jumbotron container py-3\"\r\n\t\t\t\tdataLength={imageList.length}\r\n\t\t\t\tnext={this.requestPhotos}\r\n\t\t\t\tloader={hasError ? null : <Spinner />}\r\n\t\t\t\thasMore={hasMoreImage}\r\n\t\t\t\tendMessage={endMessage}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"row align-items-center justify-content-center image-board\">\r\n\t\t\t\t\t{images}\r\n\t\t\t\t\t{hasError ? errorNode : null}\r\n\t\t\t\t</div>\r\n\t\t\t</InfiniteScroll>\r\n\t\t);\r\n\t}\r\n}\r\n","import { connect } from 'react-redux';\r\n\r\nimport mapStateToProps from './state-selector';\r\nimport mapDispatchToProps from './dispatch-selector';\r\n\r\nimport ImageBoard from './component';\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ImageBoard);\r\n","import IState from \"src/types/state\";\r\n\r\ninterface IMapStateToProps {\r\n    searchKey: string\r\n}\r\n\r\nconst mapStateToProps = (state: IState): IMapStateToProps => ({\r\n    searchKey: state.searchKey,\r\n});\r\n\r\nexport default mapStateToProps;","import * as actions from 'src/redux/actions'\r\n\r\ninterface IMapStateToProps {\r\n    searchSubmit: (searchValue: string) => void,\r\n}\r\n\r\nconst mapDispatchToProps: IMapStateToProps ={\r\n    searchSubmit: actions.searchSubmit,\r\n};\r\n\r\nexport default mapDispatchToProps;","import React from 'react';\r\nimport * as types from 'src/components/image-search/types';\r\n\r\nclass ImageSearch extends React.Component<types.IProps> {\r\n\tstate = {\r\n\t\tinputValue: '',\r\n\t};\r\n\r\n\tonInputChange = (e: React.FormEvent<HTMLInputElement>) => {\r\n\t\tconst inputValue = e.currentTarget.value;\r\n\t\tthis.setState({ inputValue });\r\n\t};\r\n\r\n\tonSearchSubmit = (e: React.FormEvent<HTMLInputElement>) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst { inputValue } = this.state;\r\n\r\n\t\tif (inputValue.length > 1 && inputValue !== this.props.searchKey) {\r\n\t\t\tthis.props.searchSubmit(inputValue);\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { inputValue } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<form className=\"jumbotron container p-4\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\tclassName=\"form-control col-md-10 col-sm-12 search-input\"\r\n\t\t\t\t\t\tplaceholder=\"Type and Search\"\r\n\t\t\t\t\t\tonChange={this.onInputChange}\r\n\t\t\t\t\t\tvalue={inputValue}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"btn btn-success col-md-2 col-sm-12 mt-2 mt-md-0 search-submit\"\r\n\t\t\t\t\t\tvalue=\"Search\"\r\n\t\t\t\t\t\tonClick={this.onSearchSubmit}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ImageSearch;\r\n","import {connect} from 'react-redux';\r\nimport mapStateToProps from \"./state-selector\";\r\nimport mapDispatchToProps from \"./dispatch-selector\";\r\n\r\nimport ImageSearch from './component';\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps,\r\n)(ImageSearch);\r\n","import React from 'react';\r\n\r\nimport ImageBoard from 'components/image-board';\r\nimport ImageSearch from 'components/image-search';\r\n\r\nimport './app.css';\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<ImageSearch />\r\n\t\t\t<ImageBoard />\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport store from 'src/redux/store';\r\n\r\nimport App from 'components/app';\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}