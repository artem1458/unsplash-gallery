(window["webpackJsonpunsplash-gallery"]=window["webpackJsonpunsplash-gallery"]||[]).push([[0],{34:function(e,t,r){e.exports=r(62)},59:function(e,t,r){},60:function(e,t,r){},61:function(e,t,r){},62:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(16),s=r.n(c),o=r(13),u=r(33),l=r(7),i=r(24),p=r(30);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(r,!0).forEach(function(t){Object(p.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h={imageList:[],currentInputValue:"",searchKey:"",currentSearchPage:1,imagesToLoad:30,hasMoreImage:!0,hasError:!1,errorMessage:""},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUSH_NEW_IMAGE":return m({},e,{imageList:[].concat(Object(i.a)(e.imageList),Object(i.a)(t.payload))});case"CLEAR_IMAGE_LIST":return m({},e,{imageList:[]});case"CHANGE_INPUT":return m({},e,{currentInputValue:t.payload});case"RESET_CURRENT_SEARCH_PAGE":return m({},e,{currentSearchPage:1});case"INC_CURRENT_SEARCH_PAGE":return m({},e,{currentSearchPage:e.currentSearchPage+1});case"SET_SEARCH_KEY":return m({},e,{searchKey:t.payload});case"SET_HAS_MORE_IMAGE_FALSE":return m({},e,{hasMoreImage:!1});case"SET_HAS_IMAGE_TRUE":return m({},e,{hasMoreImage:!0});case"SET_HAS_ERROR_TRUE":return m({},e,{hasError:!0});case"SET_HAS_ERROR_FALSE":return m({},e,{hasError:!1});case"SET_ERROR_MESSAGE":return m({},e,{errorMessage:t.payload});default:return e}},f=r(31),b=r(5),_=r.n(b),S=r(3),y=r(18),O=r(10),R=r(11),g=r(14),x=r(12),j=r(15),v=r(23),A=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(g.a)(this,Object(x.a)(t).call(this,{applicationId:"ab3411e4ac868c2646c0ed488dfd919ef612b04c264f3374c97fff98ed253dc9 ",secret:"896d4f52c589547b2134bd75ed48742db637fa51810b49b607e37e46ab2c0043"}))).getRandomPhotos=function(){var t=Object(y.a)(_.a.mark(function t(r){var a;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResource(e.photos.getRandomPhoto,{count:r});case 2:return a=t.sent,t.abrupt("return",a.map(function(t){return e.transformData(t)}));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.searchPhotos=Object(y.a)(_.a.mark(function t(){var r,a,n,c,s,o=arguments;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(a=o.length,n=new Array(a),c=0;c<a;c++)n[c]=o[c];return t.next=3,(r=e).getResource.apply(r,[e.search.photos].concat(n));case 3:return s=t.sent,t.abrupt("return",s.results.map(function(t){return e.transformData(t)}));case 5:case"end":return t.stop()}},t)})),e.getResource=function(){var e=Object(y.a)(_.a.mark(function e(t){var r,a,n,c,s=arguments;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=s.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=s[n];return e.next=3,t.apply(void 0,a);case 3:if((c=e.sent).ok){e.next=6;break}throw new Error("Could not fetch, received ".concat(c.status));case 6:return e.abrupt("return",Object(v.toJson)(c));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e}return Object(j.a)(t,e),Object(R.a)(t,[{key:"transformData",value:function(e){return{alt:e.alt_description,color:e.color,id:e.id,urlSmall:e.urls.small,userName:e.user.username}}}]),t}(r.n(v).a),T=_.a.mark(M),w=_.a.mark(H),N=_.a.mark(C),P=new A;function M(){var e,t,r;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(S.d)(function(e){return e});case 3:return e=a.sent,t=e.imagesToLoad,a.next=7,Object(S.b)(P.getRandomPhotos,t);case 7:return r=a.sent,a.next=10,Object(S.c)({type:"PUSH_NEW_IMAGE",payload:r});case 10:a.next=18;break;case 12:return a.prev=12,a.t0=a.catch(0),a.next=16,Object(S.c)({type:"SET_HAS_ERROR_TRUE"});case 16:return a.next=18,Object(S.c)({type:"SET_ERROR_MESSAGE",payload:a.t0});case 18:case"end":return a.stop()}},T,null,[[0,12]])}function H(){var e,t,r,a,n;return _.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(S.d)(function(e){return e});case 3:return e=c.sent,t=e.searchKey,r=e.currentSearchPage,a=e.imagesToLoad,c.next=9,Object(S.b)(P.searchPhotos,t,r+1,a);case 9:if(0!==(n=c.sent).length){c.next=15;break}return c.next=13,Object(S.c)({type:"SET_HAS_MORE_IMAGE_FALSE"});case 13:c.next=19;break;case 15:return c.next=17,Object(S.c)({type:"PUSH_NEW_IMAGE",payload:n});case 17:return c.next=19,Object(S.c)({type:"INC_CURRENT_SEARCH_PAGE"});case 19:c.next=27;break;case 21:return c.prev=21,c.t0=c.catch(0),c.next=25,Object(S.c)({type:"SET_HAS_ERROR_TRUE"});case 25:return c.next=27,Object(S.c)({type:"SET_ERROR_MESSAGE",payload:c.t0});case 27:case"end":return c.stop()}},w,null,[[0,21]])}function C(e){var t,r,a;return _.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(S.d)(function(e){return e});case 3:return t=n.sent,r=t.imagesToLoad,n.next=7,Object(S.b)(P.searchPhotos,e.payload,1,r);case 7:if(0!==(a=n.sent).length){n.next=15;break}return n.next=11,Object(S.c)({type:"CLEAR_IMAGE_LIST"});case 11:return n.next=13,Object(S.c)({type:"SET_HAS_MORE_IMAGE_FALSE"});case 13:n.next=42;break;case 15:if(!(a.length<r)){n.next=30;break}return n.next=18,Object(S.c)({type:"SET_HAS_ERROR_FALSE"});case 18:return n.next=20,Object(S.c)({type:"SET_HAS_MORE_IMAGE_FALSE"});case 20:return n.next=22,Object(S.c)({type:"RESET_CURRENT_SEARCH_PAGE"});case 22:return n.next=24,Object(S.c)({type:"SET_SEARCH_KEY",payload:e.payload});case 24:return n.next=26,Object(S.c)({type:"CLEAR_IMAGE_LIST"});case 26:return n.next=28,Object(S.c)({type:"PUSH_NEW_IMAGE",payload:a});case 28:n.next=42;break;case 30:return n.next=32,Object(S.c)({type:"SET_HAS_ERROR_FALSE"});case 32:return n.next=34,Object(S.c)({type:"SET_HAS_IMAGE_TRUE"});case 34:return n.next=36,Object(S.c)({type:"RESET_CURRENT_SEARCH_PAGE"});case 36:return n.next=38,Object(S.c)({type:"SET_SEARCH_KEY",payload:e.payload});case 38:return n.next=40,Object(S.c)({type:"CLEAR_IMAGE_LIST"});case 40:return n.next=42,Object(S.c)({type:"PUSH_NEW_IMAGE",payload:a});case 42:n.next=50;break;case 44:return n.prev=44,n.t0=n.catch(0),n.next=48,Object(S.c)({type:"SET_HAS_ERROR_TRUE"});case 48:return n.next=50,Object(S.c)({type:"SET_ERROR_MESSAGE",payload:n.t0});case 50:case"end":return n.stop()}},N,null,[[0,44]])}var I=_.a.mark(G),k=_.a.mark(L),U=_.a.mark(D);function G(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.e)("USER_RANDOM_PHOTOS_FETCH_REQUEST",M);case 2:case"end":return e.stop()}},I)}function L(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.e)("USER_REQUEST_FETCH_NEXT_SEARCH_PAGE",H);case 2:case"end":return e.stop()}},k)}function D(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.e)("USER_SEARCH_SUBMIT",C);case 2:case"end":return e.stop()}},U)}var F=_.a.mark(K);function K(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.a)([G(),L(),D()]);case 2:case"end":return e.stop()}},F)}var q=Object(u.a)(),V=Object(l.createStore)(d,Object(f.composeWithDevTools)(Object(l.applyMiddleware)(q)));q.run(K);var W=V,Q=function(e){return{imageList:e.imageList,hasMoreImage:e.hasMoreImage,hasError:e.hasError,errorMessage:e.errorMessage,searchKey:e.searchKey}},B={getRandomPhotos:function(){return{type:"USER_RANDOM_PHOTOS_FETCH_REQUEST"}},requestNextSearchPage:function(){return{type:"USER_REQUEST_FETCH_NEXT_SEARCH_PAGE"}}},J=(r(59),r(60),function(e){var t=e.color,r=e.id,a=e.userName,c=n.a.createElement("h6",{className:"col-12 text-center text-light mt-1 author"},"Author:"," ",n.a.createElement("a",{className:"font-weight-bold text-light author-link",href:"https://unsplash.com/@".concat(a),target:"_blank",rel:"noopener noreferrer"},a)),s=n.a.createElement("h6",{className:"col-12 text-center text-light mt-1 averaged-color"},"Color: ",t),o=n.a.createElement("a",{className:"btn btn-success col-8 my-1 download-bnt",href:"https://unsplash.com/photos/".concat(r,"/download?force=true"),role:"button"},"Download");return n.a.createElement("div",{className:"image-card-hover rounded d-flex align-items-end"},n.a.createElement("div",{className:"bg-info rounded d-flex flex-wrap justify-content-center w-100 h-60"},c,s,o))}),Y=function(e){var t=e.imageProps,r=t.alt,a=t.urlSmall,c=t.color,s=t.userName,o=t.id;return n.a.createElement("div",{className:"image-card col-lg-4 col-md-6 col-sm-12 d-flex justify-content-center p-0 m-2"},n.a.createElement("img",{className:"img-thumbnail rounded",src:a,alt:r}),n.a.createElement(J,{color:c,userName:s,id:o}))},X=r(32),z=r.n(X),Z=function(){return n.a.createElement("div",{className:"d-flex justify-content-center py-3 spinner"},n.a.createElement("div",{className:"spinner-grow text-primary spinner-dot",role:"status"}),n.a.createElement("div",{className:"spinner-grow text-success spinner-dot",role:"status"}),n.a.createElement("div",{className:"spinner-grow text-danger spinner-dot",role:"status"}),n.a.createElement("div",{className:"spinner-grow text-warning spinner-dot",role:"status"}))},$=function(e){function t(){var e,r;Object(O.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(g.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(n)))).requestPhotos=function(){var e=r.props,t=e.searchKey,a=e.requestNextSearchPage,n=e.getRandomPhotos;t?a():n()},r}return Object(j.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.requestPhotos()}},{key:"render",value:function(){var e=this.props,t=e.imageList,r=e.hasError,a=e.hasMoreImage,c=n.a.createElement("h2",{className:"text-secondary text-center error-message"},"Here is an Error, try to reload page, or make another search querry."),s=n.a.createElement("div",{className:"alert alert-info py-3 text-center end-message",role:"alert"},n.a.createElement("h5",{className:"m-0"},"No more images to load, try another search querry")),o=t.map(function(e){return n.a.createElement(Y,{imageProps:e,key:e.id})});return n.a.createElement(z.a,{className:"d-flex flex-column justify-content-center jumbotron container py-3",dataLength:t.length,next:this.requestPhotos,loader:r?null:n.a.createElement(Z,null),hasMore:a,endMessage:s},n.a.createElement("div",{className:"row align-items-center justify-content-center image-board"},o,r?c:null))}}]),t}(n.a.Component),ee=Object(o.b)(Q,B)($),te=function(e){return{searchKey:e.searchKey}},re={searchSubmit:function(e){return{type:"USER_SEARCH_SUBMIT",payload:e}}},ae=function(e){function t(){var e,r;Object(O.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(g.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(n)))).state={inputValue:""},r.onInputChange=function(e){var t=e.currentTarget.value;r.setState({inputValue:t})},r.onSearchSubmit=function(e){e.preventDefault();var t=r.state.inputValue;t.length>1&&t!==r.props.searchKey&&r.props.searchSubmit(t)},r}return Object(j.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.state.inputValue;return n.a.createElement("form",{className:"jumbotron container p-4"},n.a.createElement("div",{className:"row"},n.a.createElement("input",{type:"search",className:"form-control col-md-10 col-sm-12 search-input",placeholder:"Type and Search",onChange:this.onInputChange,value:e}),n.a.createElement("input",{type:"submit",className:"btn btn-success col-md-2 col-sm-12 mt-2 mt-md-0 search-submit",value:"Search",onClick:this.onSearchSubmit})))}}]),t}(n.a.Component),ne=Object(o.b)(te,re)(ae),ce=(r(61),function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(ne,null),n.a.createElement(ee,null))});s.a.render(n.a.createElement(o.a,{store:W},n.a.createElement(ce,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.4b40b583.chunk.js.map