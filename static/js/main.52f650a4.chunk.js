(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(57)},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"onInputChange",function(){return R}),a.d(r,"getRandomPhotos",function(){return b}),a.d(r,"searchSubmit",function(){return A}),a.d(r,"requestNextSearchPage",function(){return v});var n=a(0),c=a.n(n),o=a(14),s=a.n(o),u=a(7),l=(a(32),a(25)),i=a(9),m=a(12),E=a(1),p=a.n(E),h=a(3),d=a(5),f=a(10),_=a(8),g=a(11),y=a(19),S=new(function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(f.a)(this,Object(_.a)(t).call(this,{applicationId:"494555fbd3a4845f048f75a49e4e2714283cd6d46e45cefaafacf41997ca838b",secret:"200db19660f8603baed20d25918dbc15053b86255dcf2ac3baa705d95d5f74b8"}))).getResourse=function(){var e=Object(h.a)(p.a.mark(function e(t){var a,r,n,c,o=arguments;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=o.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=o[n];return e.next=3,t.apply(void 0,r);case 3:if((c=e.sent).ok){e.next=6;break}throw new Error("Could not fetch, received ".concat(c.status));case 6:return e.abrupt("return",Object(y.toJson)(c));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.getRandomPhotos=function(){var t=Object(h.a)(p.a.mark(function t(a){var r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResourse(e.photos.getRandomPhoto,{count:a});case 2:return r=t.sent,t.abrupt("return",r.map(function(t){return e._transformData(t)}));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.searchPhotos=Object(h.a)(p.a.mark(function t(){var a,r,n,c,o,s,u=arguments;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=u.length,n=new Array(r),c=0;c<r;c++)n[c]=u[c];return t.next=3,(a=e).getResourse.apply(a,[e.search.photos].concat(n));case 3:return o=t.sent,s=o.results.map(function(t){return e._transformData(t)}),t.abrupt("return",s);case 6:case"end":return t.stop()}},t)})),e._transformData=function(e){return{alt:e.alt_description,color:e.color,id:e.id,urlSmall:e.urls.small,userName:e.user.username}},e}return Object(g.a)(t,e),t}(a.n(y).a)),R=function(e){return function(t){e.length<=30&&t({type:"CHANGE_INPUT",payload:e})}},b=function(e){return function(){var t=Object(h.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:S.getRandomPhotos(e).then(function(e){a({type:"PUSH_NEW_IMAGE",payload:e})}).catch(function(e){a({type:"SET_HAS_ERROR_TRUE"}),a({type:"SET_ERROR_MESSAGE",payload:e})});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(h.a)(p.a.mark(function t(a){var r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=e[2],S.searchPhotos.apply(S,Object(m.a)(e)).then(function(e){0===e.length?(a({type:"CLEAR_IMAGE_LIST"}),a({type:"SET_HAS_IMAGE_FALSE"})):e.length<r?(a({type:"SET_HAS_ERROR_FALSE"}),a({type:"SET_HAS_IMAGE_FALSE"}),a({type:"RESET_CURRENT_SEARCH_PAGE"}),a({type:"SET_SEARCH_KEY"}),a({type:"CLEAR_IMAGE_LIST"}),a({type:"PUSH_NEW_IMAGE",payload:e})):(a({type:"SET_HAS_ERROR_FALSE"}),a({type:"SET_HAS_IMAGE_TRUE"}),a({type:"RESET_CURRENT_SEARCH_PAGE"}),a({type:"SET_SEARCH_KEY"}),a({type:"CLEAR_IMAGE_LIST"}),a({type:"PUSH_NEW_IMAGE",payload:e}))}).catch(function(e){a({type:"SET_HAS_ERROR_TRUE"}),a({type:"SET_ERROR_MESSAGE",payload:e})});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(h.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:S.searchPhotos.apply(S,Object(m.a)(e)).then(function(e){0===e.length?a({type:"SET_HAS_IMAGE_FALSE"}):(a({type:"PUSH_NEW_IMAGE",payload:e}),a({type:"INC_CURRENT_SEARCH_PAGE"}))}).catch(function(e){a({type:"SET_HAS_ERROR_TRUE"}),a({type:"SET_ERROR_MESSAGE",payload:e})});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},O=Object(i.b)(function(e){return{currentInputValue:e.currentInputValue,searchKey:e.searchKey,imagesToLoad:e.imagesToLoad}},r)(function(e){var t=e.currentInputValue,a=e.searchSubmit,r=e.searchKey,n=e.imagesToLoad;return c.a.createElement("form",{className:"jumbotron container p-4"},c.a.createElement("div",{className:"row"},c.a.createElement("input",{type:"search",className:"form-control col-md-10 col-sm-12",placeholder:"Type and Search",onChange:function(t){e.onInputChange(t.target.value)},value:t}),c.a.createElement("input",{type:"submit",className:"btn btn-success col-md-2 col-sm-12 mt-2 mt-md-0",value:"Search",onClick:function(e){e.preventDefault(),t.length>1&&t!==r&&a([t,1,n])}})))}),N=a(15),T=a(26),j=a.n(T),I=(a(53),a(54),function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.color,a=e.id,r=e.userName,n=c.a.createElement("h6",{className:"col-12 text-center text-light mt-1"},"Author:"," ",c.a.createElement("a",{className:"font-weight-bold text-light",href:"https://unsplash.com/@".concat(r),target:"_blank"},r)),o=c.a.createElement("h6",{className:"col-12 text-center text-light mt-1"},"Color: ",t),s=c.a.createElement("a",{className:"btn btn-success col-8 my-1",href:"https://unsplash.com/photos/".concat(a,"/download?force=true"),role:"button"},"Download");return c.a.createElement("div",{className:"image-card-hover rounded d-flex align-items-end"},c.a.createElement("div",{className:"bg-info rounded d-flex flex-wrap justify-content-center w-100 h-60"},n,o,s))}}]),t}(n.Component)),w=function(e){var t=e.imageProps,a=t.alt,r=t.urlSmall,n=t.color,o=t.userName,s=t.id;return c.a.createElement("div",{className:"image-card col-lg-4 col-md-6 col-sm-12 d-flex justify-content-center p-0 m-2"},c.a.createElement("img",{className:"img-thumbnail rounded",src:r,alt:a}),c.a.createElement(I,{color:n,userName:o,id:s}))},L=(a(55),function(e){function t(){var e,a;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(n)))).requestPhotos=function(){var e=a.props,t=e.searchKey,r=e.currentSearchPage,n=e.imagesToLoad,c=a.props,o=c.requestNextSearchPage,s=c.getRandomPhotos;t?o([t,r+1,n]):s(n)},a}return Object(g.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.requestPhotos()}},{key:"render",value:function(){var e=this.props,t=e.imageList,a=e.hasError,r=e.hasMoreImage,n=c.a.createElement("h2",{className:"text-secondary text-center"},"Here is an Error, try to reload page, or make another search querry."),o=c.a.createElement("div",{className:"d-flex justify-content-center py-3"},c.a.createElement("div",{className:"spinner-grow text-primary",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")),c.a.createElement("div",{className:"spinner-grow text-success",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")),c.a.createElement("div",{className:"spinner-grow text-danger",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")),c.a.createElement("div",{className:"spinner-grow text-warning",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading..."))),s=c.a.createElement("div",{className:"alert alert-info py-3 text-center",role:"alert"},c.a.createElement("h5",{className:"m-0"},"No more images to load, try another search querry")),u=t.map(function(e){return c.a.createElement(w,{imageProps:e,key:e.id})});return c.a.createElement(j.a,{className:"d-flex flex-column justify-content-center jumbotron container py-3",dataLength:t.length,next:this.requestPhotos,loader:a?null:o,hasMore:r,endMessage:s},c.a.createElement("div",{className:"row align-items-center justify-content-center image-board"},u,a?n:null))}}]),t}(n.Component)),P=Object(i.b)(function(e){return{imageList:e.imageList,searchKey:e.searchKey,currentSearchPage:e.currentSearchPage,imagesToLoad:e.imagesToLoad,hasMoreImage:e.hasMoreImage,hasError:e.hasError,errorMessage:e.errorMessage}},r)(L),x=(a(56),function(){return c.a.createElement("div",null,c.a.createElement(O,null),c.a.createElement(P,null))}),M=a(2),C={imageList:[],currentInputValue:"",searchKey:"",currentSearchPage:1,imagesToLoad:30,hasMoreImage:!0,hasError:!1,errorMessage:""},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUSH_NEW_IMAGE":return Object(M.a)({},e,{imageList:[].concat(Object(m.a)(e.imageList),Object(m.a)(t.payload))});case"CLEAR_IMAGE_LIST":return Object(M.a)({},e,{imageList:[]});case"CHANGE_INPUT":return Object(M.a)({},e,{currentInputValue:t.payload});case"RESET_CURRENT_SEARCH_PAGE":return Object(M.a)({},e,{currentSearchPage:1});case"INC_CURRENT_SEARCH_PAGE":return Object(M.a)({},e,{currentSearchPage:e.currentSearchPage+1});case"SET_SEARCH_KEY":return Object(M.a)({},e,{searchKey:e.currentInputValue});case"SET_HAS_IMAGE_FALSE":return Object(M.a)({},e,{hasMoreImage:!1});case"SET_HAS_IMAGE_TRUE":return Object(M.a)({},e,{hasMoreImage:!0});case"SET_HAS_ERROR_TRUE":return Object(M.a)({},e,{hasError:!0});case"SET_HAS_ERROR_FALSE":return Object(M.a)({},e,{hasError:!1});case"SET_ERROR_MESSAGE":return Object(M.a)({},e,{errorMessage:t.payload});default:return e}};a.d(t,"store",function(){return G});var G=Object(u.createStore)(H,Object(u.applyMiddleware)(l.a));s.a.render(c.a.createElement(i.a,{store:G},c.a.createElement(x,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.52f650a4.chunk.js.map